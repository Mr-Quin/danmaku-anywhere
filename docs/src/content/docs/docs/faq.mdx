---
title: 常见问题（FAQ）
description: 使用 Danmaku Anywhere 过程中的常见问题与解答
---

## 安装与启动

### 安装后看不到图标？

- 可能被浏览器折叠到扩展菜单，请在工具栏中固定图标。
- 某些页面未匹配到装填配置时图标会置灰，参见「装填配置」。

### 开发版如何加载？

Chrome 打开 `chrome://extensions` → 打开开发者模式 → 加载已解压的扩展 → 选择 `packages/danmaku-anywhere/dev/chrome`。

## 弹幕显示问题

### 看不到弹幕怎么办？

- 确认已在「装填配置」中添加当前网站地址（或通配符）
- 至少启用一个弹幕来源（B 站/腾讯/本地导入）
- 对应网站需保持登录，以获得正确的搜索结果与弹幕
- 页面是否是 `iframe`，详见下文

### 播放器在 iframe 里怎么办？

扩展会尽量自动处理 `iframe` 场景。若仍无效：

- 尝试在装填配置中添加更精确的匹配（含内嵌域名）
- 关闭其他可能注入播放器的脚本，避免冲突

### 全屏/画中画与弹幕冲突？

弹幕层使用 Top Layer 以保证覆盖视频，可能影响交互。画中画在 `iframe` 场景存在浏览器 API 限制，暂不保证可用。

## 弹幕来源

### 启用 B 站来源需要什么？

需要保持登录状态。启用时扩展会通过 GET `https://www.bilibili.com/` 检查 cookie 状态，未登录会提示登录。

### 启用腾讯视频来源需要什么？

腾讯视频需要通过脚本注入的方式获取 cookie。首次启用会引导你前往腾讯视频页面以完成获取。

### 可以导入哪些弹幕文件？

支持部分 `xml` 格式与自定义 `json` 格式。`json` 结构见「技术细节」页面的示例与类型定义。

## 自动匹配与规则

### 如何自动匹配到正确的番剧与集数？

- 启用 AI 自动适配，扩展会结合页面信息进行匹配
- 对结构稳定的网站，使用 XPath 规则可获得更稳定的结果

### 我能手动选择弹幕吗？

可以。在弹幕面板中可搜索/切换不同来源与集数。

## 性能与兼容

### 弹幕卡顿或过多怎么办？

- 降低弹幕密度与字号
- 减小行间距或轨道数量
- 关闭无关来源或过滤高频弹幕

### Shadow DOM 的网站无法工作？

若视频元素位于 Shadow DOM 中，扩展无法直接访问，暂不支持。

## 反馈与支持

### 在哪里反馈问题或提需求？

访问项目仓库并提交 Issue：`https://github.com/Mr-Quin/danmaku-anywhere`。

::::note
遇到未覆盖的问题？请附上网址、浏览器版本、复现步骤与控制台日志，便于定位。
::::

