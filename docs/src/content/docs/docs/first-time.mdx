---
title: 第一次使用
description: 第一次配置 Danmaku Anywhere 的步骤
---

import { Steps, Tabs, TabItem } from '@astrojs/starlight/components'

欢迎使用 Danmaku Anywhere！按照以下步骤完成首次配置并在你的视频网站上显示弹幕。

## 准备工作

- 已安装浏览器扩展（见「安装」）
- 任选一个你常用的视频网站

## 第一次配置

<Steps>

1. 打开任意视频网站，确认右上角出现扩展图标
   如果图标置灰，说明当前页面未启用弹幕注入，继续下一步。

2. 配置装填配置（告诉扩展在哪些网站生效）
   打开扩展弹窗 → 装填配置 → 新建配置，添加你的视频网站域名或通配符地址，例如：
   - `https://example.com/*`
   - `https://*.example.com/*`
   保存后刷新网站页面。

3. 启用弹幕来源（获取弹幕）
   打开扩展弹窗 → 弹幕源 → 根据需要启用：
   - B 站：需保持登录，首次启用会检查状态
   - 腾讯视频：需在腾讯视频页面获取 cookie 后启用
   - 本地导入：支持特定 `xml` 与自定义 `json` 格式

4. 进入视频页面并播放
   播放视频后应看到弹幕层出现。若没有，查看「常见问题」。

5. 可选：调整弹幕样式
   扩展弹窗 → 弹幕 → 样式，调整字号、轨道、透明度、边距等。

</Steps>

## 验证是否正常

- 页面出现悬浮控件，且弹幕随播放同步
- 切换集数/清晰度后，弹幕可自动匹配或可手动切换

## 常见问题速查

::::note
更多问题与排查见「常见问题」。
::::

### 看不到弹幕？

- 是否已为该网站添加装填配置
- 是否已启用至少一个弹幕来源并登录对应网站
- 该页面是否处于 `iframe` 中（某些站点使用内嵌播放器）

### 播放器在 `iframe` 中

多数情况下无需手动添加 `iframe` 地址。若仍未生效，可在装填配置中增加更精确的匹配规则。

## 进阶：多来源与自动匹配

<Tabs>
  <TabItem label="AI 自动适配">
  启用 AI 自动适配后，扩展会尝试根据页面信息自动匹配番剧集数与弹幕。详见「适配规则 → AI」。
  </TabItem>
  <TabItem label="XPath 规则">
  对于结构稳定的网站，可使用 XPath 规则精确提取标题/集数等信息。详见「适配规则 → XPath」。
  </TabItem>
</Tabs>

