---
title: 弹幕来源
description: 弹幕来源
---

弹幕来源分为**第三方来源**和**本地弹幕**。

任何来源的弹幕都保存在扩展的数据库中，可以在扩展弹窗的弹幕列表中导出或删除。

## 第三方来源

搜索功能依赖以下弹幕源

- 弹弹Play
- B站
- 腾讯视频
- MacCMS（其他）

可以在**扩展弹窗-设置页面**中启用或禁用这些弹幕源以及修改每个弹幕源的配置。

搜索结果只包含平台归类为影视的视频，不包含其他如用户上传的视频。

:::caution[关于搜索]
B站、腾讯视频的搜索由用户浏览器直接发起，可能会受到以下因素的影响：

- 对应网站的登录状态
- 地域、代理、VPN 等网络因素

与这些弹幕源所有交互都会以当前登录账号的身份进行。比如如果启用了**B站**源，那么搜索结果和弹幕获取结果都会以当前登录的**B站**账号的身份进行。

所以说，**不要滥用**，可能会导致账号被封禁。
:::

### MacCMS（其他）

此获取方法依赖公开的解析接口和弹幕库，不稳定，无法保证一定能够获取到弹幕。

设置中可以选择API地址，如果一个API地址获取不到弹幕，可以尝试更换其他API地址。

通过此来源获取的弹幕视为**本地弹幕**，无法刷新，而且重复下载会导致弹幕库中出现重复的弹幕。

### 地址解析

扩展可以解析视频地址，从而获取该视频的弹幕。

支持的视频地址格式

- B站:
- https://www.bilibili.com/bangumi/play/ss12345
- https://www.bilibili.com/bangumi/play/ep12345
- 腾讯:
- https://v.qq.com/x/cover/abc123/def456.html

受到与以上搜索相同的限制，只支持影视类视频。

## 本地弹幕

在扩展弹出或悬浮面板的导入页面中可以导入其他来源的弹幕文件(`.xml`格式)。

不支持 `.ass` 和 `.srt` 等“字幕”文件。这类文件一般通过 `.xml` 转换而来，导入时请使用原始文件。

扩展可以识别一些常见的格式，发现导入失败的情况请提交BUG。

:::note
导入时只保存部分弹幕数据，虽然导入的弹幕可以再次导出，但是会丢失数据，请勿作为备份。
:::

## 导出

### 备份

弹幕库不享受浏览器的同步功能，弹幕数据只保存在当前设备上。

需要在设备间传递弹幕时可以使用备份功能导出弹幕。导出的文件为**弹幕任何地方**的专用格式，其他播放器无法使用。

### `xml`格式

弹幕库可以导出为`xml`格式，可以被其他播放器使用。
